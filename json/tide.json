{
  "input_name": "ASH_20170314_HELA_90MIN_20170320042659.mzML",
	"model": "lambda",
	"iterations": 1,
	"region": "us-west-2",
	"timeout": 300,
  "iterations": 1,
	"num_bins": 40,
	"bucket": "shjoyner-tide",
	"dependencies": {
		"common": [
		  "constants.py",
			"formats/iterator.py",
			"formats/pivot.py",
		  "util.py"
		],
		"formats": {
			"mzML": [
				"header.mzML"
			],
			"percolator": [
				"formats/tsv.py"
			]
		}
	},
	"functions": {
		"split-mzML": {
		  "file": "split_file",
		  "format": "mzML",
		  "memory_size": 1024
		},
		"find-mzML-pivots": {
		  "file": "pivot_file",
		  "format": "mzML",
		  "memory_size": 1024
		},
		"combine-pivot-files": {
		  "file": "combine_files",
		  "format": "pivot",
		  "memory_size": 1024
		},
		"sort-mzML-chunk": {
		  "file": "sort",
		  "format": "mzML",
		  "memory_size": 1024
		},
		"combine-mzML-files": {
		  "file": "combine_files",
		  "format": "mzML",
		  "memory_size": 1024
		},
		"tide": {
		  "file": "application",
		  "application": "tide",
		  "memory_size": 1024,
			"database_bucket": "shjoyner-fasta"
		},
		"combine-tsv-files": {
		  "file": "combine_files",
		  "format": "tsv",
		  "memory_size": 1024
		},
		"percolator": {
		  "file": "application",
		  "application": "percolator",
			"database_bucket": "shjoyner-fasta",
		  "memory_size": 3008
		},
		"top-mzML": {
	    "file": "top",
		  "format": "mzML",
		  "memory_size": 1024
		},
		"map-species": {
	    "file": "map",
		  "memory_size": 1024
		},
		"find-species-match": {
	    "file": "match",
		  "format": "percolator",
		  "memory_size": 1024
		},
	  "handle-specie-match": {
		  "file": "application",
		  "application": "handle_specie_match",
		  "memory_size": 1024
		},
		"initiate-split": {
			"file": "initiate",
			"memory_size": 1024
		}
	},
	"pipeline": [{
		"name": "split-mzML",
		"batch_size": 8000,
		"chunk_size": 500000,
		"output_function": "top-mzML",
		"ranges": false
	}, {
		"name": "top-mzML",
		"identifier": "tic",
		"number": 1000,
		"batch_size": 1000,
		"chunk_size": 1000000
	}, {
	  "name": "combine-mzML-files",
		"batch_size": 1000,
		"chunk_size": 1000000,
		"sort": false
	}, {
		"name": "top-mzML",
		"identifier": "tic",
		"number": 1000,
		"batch_size": 4000,
		"chunk_size": 100000000
	}, {
	  "name": "map-species",
		"map_bucket": "shjoyner-fasta",
		"input_key_value": "key",
		"bucket_key_value": "species",
		"ranges": false,
		"directories": true,
		"output_function": "tide",
		"ranges": false
	}, {
    "name": "tide",
		"num_threads": 0
	}, {
    "name": "percolator",
		"max_train": 0,
		"output": "psms",
		"database_bucket": "shjoyner-fasta"
	}, {
		"name": "find-species-match",
		"identifier": "q-value",
    "find": "max sum",
		"batch_size": 1000,
		"chunk_size": 100000
	}, {
	  "name": "initiate-split",
		"input_key_prefix": "0",
		"output_function": "split-mzML"
	}, {
	  "name": "split-mzML",
		"ranges": false,
		"batch_size": 4000,
		"chunk_size": 10000000,
		"output_function": "find-mzML-pivots"
	}, {
	  "name": "find-mzML-pivots",
		"batch_size": 4000,
		"chunk_size": 10000000,
		"identifier": "mass",
		"sort": false
	}, {
	  "name": "combine-pivot-files",
		"batch_size": 1000,
		"chunk_size": 1000000,
		"sort": false
	}, {
	  "name": "split-mzML",
		"ranges": true,
		"batch_size": 4000,
		"chunk_size": 10000000,
		"output_function": "sort-mzML-chunk"
	}, {
	  "name": "sort-mzML-chunk",
		"batch_size": 4000,
		"chunk_size": 10000000,
		"identifier": "mass",
		"sort": false
	}, {
	  "name": "combine-mzML-files",
		"batch_size": 4000,
		"chunk_size": 10000000,
		"sort": false
	}, {
	  "name": "handle-specie-match",
    "match_prefix": "7",
		"output_function": "tide"
	}, {
    "name": "tide",
		"num_threads": 0
	}, {
		"name": "combine-tsv-files",
		"batch_size": 4000,
		"chunk_size": 10000000,
		"sort": false
	}, {
    "name": "percolator",
		"max_train": 0,
		"output": "peptides",
		"database_bucket": "shjoyner-fasta"
	}]
}
